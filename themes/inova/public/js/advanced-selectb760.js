"use strict";!function(o,a){var e={init:function(e){this.search(e),this.scrollableColumn(e)},search:function(e){var n=o(".advanced-select",e),t=o(".advanced-select .dropdown-btn button");o(".advanced-select .dropdown-menu a",e).each(function(){var n=o(this);n.on("mousedown",function(e){e.preventDefault(),n.trigger("click")})}),n.each(function(e){var n=o(this).attr("data-advanced-select"),s=a.advancedSelect[n].links,c=s.map(function(e){return e.title});s.map(function(e){return e.url}),new autoComplete({selector:".dropdown-search .heading input",menuClass:"advanced-search-filter",minChars:1,source:function(e,n){e=e.toLowerCase();for(var t=c,o=[],a=0;a<t.length;a++)~t[a].toLowerCase().indexOf(e)&&o.push(t[a]);n(o)},renderItem:function(e,n){n=n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var t=new RegExp("("+n.split(" ").join("|")+")","gi"),o=e,a=s.map(function(e){return e.title}).indexOf(o);return'<a class="autocomplete-suggestion" data-val="'+e+'" href="'+s[a].url+'">'+e.replace(t,"<strong>$1</strong>")+"</a>"},onSelect:function(e,n,t){var o=t,a=s.map(function(e){return e.title}).indexOf(o),c=s[a].url;window.location.href=c}})}),t.on("click",function(){o(this).parents(".dropdown-search").children(".dropdown-menu").slideToggle("fast"),o(this).parents(".dropdown-search").toggleClass("active"),n.focus()}),o(".advanced-select .heading input").on("click",function(){o(this).parents(".dropdown-search").hasClass("active")&&(o(this).parents(".dropdown-search").removeClass("active"),o(this).parents(".dropdown-search").children(".dropdown-menu").slideToggle("fast"))}),n.on("focusout",function(){var e=o(this).find(".dropdown-search"),n=o(this).find(".dropdown-menu");e.hasClass("active")&&(e.removeClass("active"),n.slideToggle("fast"))})},scrollableColumn:function(e){function n(){var e=o(".advanced-select .column:nth-of-type(1)").height()-o(".advanced-select .column:nth-of-type(2) h3").height();o(".advanced-select .column:nth-of-type(2) .scroll").css("height",e)}n(),o(".advanced-select .scroll",e).mCustomScrollbar({scrollButtons:{enable:!0}}),o(window).on("resize",function(){n()})}};window.inovaAdvancedSelect=e}(jQuery,drupalSettings);